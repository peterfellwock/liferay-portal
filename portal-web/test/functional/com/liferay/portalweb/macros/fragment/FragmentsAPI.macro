definition {

	macro getFragmentFileContent {
		var baseDir = PropsUtil.get("test.base.dir.name");
		var dependenciesDir = PropsUtil.get("test.dependencies.dir.name");

		if (isSet(path)) {
			var fileContent = FileUtil.read("${baseDir}${dependenciesDir}/${path}");
		}
		else {
			var fileContent = FileUtil.read("${baseDir}${dependenciesDir}/fragment/${fileName}");
		}

		var os = OSDetector.isWindows();

		if ("${os}" == "true") {
			var newline = '''
''';

			var fileContent = StringUtil.replace("${fileContent}", "${newline}", "%0A");

			return "${fileContent}";
		}
		else {
			return "${fileContent}";
		}
	}

}